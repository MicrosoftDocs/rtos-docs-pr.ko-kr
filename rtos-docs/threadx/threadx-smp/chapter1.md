---
title: 1장 - Azure RTOS ThreadX SMP 소개
description: 이 장에는 해당 제품에 대한 소개와 해당 애플리케이션 및 혜택에 대한 설명이 포함되어 있습니다.
author: philmea
ms.author: philmea
ms.date: 06/04/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 9b9fb7b08691930abcf57df77fff27e619bb7a554a6235d4e234889b7c80945e
ms.sourcegitcommit: 93d716cf7e3d735b18246d659ec9ec7f82c336de
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/07/2021
ms.locfileid: "116802249"
---
# <a name="chapter-1-introduction-to-azure-rtos-threadx-smp"></a>1장 - Azure RTOS ThreadX SMP 소개

Azure RTOS ThreadX SMP는 포함된 애플리케이션을 위해 특별히 설계된 고성능 실시간 SMP 커널입니다. 이 장에는 해당 제품에 대한 소개와 해당 애플리케이션 및 혜택에 대한 설명이 포함되어 있습니다.

## <a name="threadx-smp-unique-features"></a>ThreadX SMP 고유 기능

ThreadX SMP는 포함된 애플리케이션에 SMP(대칭 다중 처리) 기술을 적용합니다. 실행한 "준비가 완료"된 다양한 우선 순위를 갖는 ThreadX SMP 애플리케이션 스레드는 예약 동안 사용 가능한 프로세서 코어에 동적으로 할당됩니다. 이렇게 하면 사용 가능한 모든 프로세서 코어에서 애플리케이션 스레드 실행의 자동 부하 분산을 포함하는 진정한 SMP 처리가 발생합니다.

다른 실시간 커널과 달리 ThreadX SMP는 강력한 CISC, RISC 및 DSP 프로세서를 사용하는 애플리케이션을 통해 소규모 마이크로컨트롤러 기반 애플리케이션에서 쉽게 스케일링 가능하도록 다재 다능하게 설계되었습니다.

ThreadX SMP는 기본 아키텍처에 따라 스케일링이 가능합니다. ThreadX SMP 서비스는 C 라이브러리로 구현되기 때문에 애플리케이션에서 실제로 사용하는 서비스만 런타임 이미지로 가져옵니다. 따라서 ThreadX SMP의 실제 크기는 애플리케이션에 의해 완전히 결정됩니다. 대부분의 애플리케이션에서 ThreadX SMP 범위의 명령 이미지의 크기는 5KB~20KB 사이입니다.

### <a name="picokernel-architecture"></a>picokernel™ 아키텍처 
기존 ‘마이크로커널’ 아키텍처와 같이 커널 함수를 서로 계층화하는 대신, ThreadX SMP 서비스는 해당 코어에 직접 연결됩니다. 이로 인해 컨텍스트 전환이 빨라지고 서비스 호출 성능이 개선됩니다. 이러한 비계층화 디자인을 ‘피코커널’이라고 합니다.

### <a name="ansi-c-source-code"></a>ANSI C 소스 코드 
ThreadX SMP는 주로 ANSI C로 작성됩니다. 커널 크기를 기본 대상 프로세서에 맞게 조정하려면 약간의 어셈블리 언어가 필요합니다. 이러한 디자인을 통해 아주 짧은 시간 안에, 일반적으로 몇 주 안에 ThreadX SMP를 새 프로세서 제품군으로 이식할 수 있습니다.

### <a name="advanced-technology"></a>고급 기술 
다음은 ThreadX SMP 고급 기술의 주요 특징입니다.

  - 간단한 ‘피코커널’ 아키텍처
  - 자동 부하 분산
  - 스레드별 프로세서 제외
  - 자동 크기 조정(작은 공간)
  - 결정적 처리
  - 빠른 실시간 성능
  - 선점형 일정 및 협조적 일정
  - 유연한 스레드 우선 순위 지원(32-1024)
  - 동적 시스템 개체 만들기
  - 시스템 개체 수 제한 없음
  - 최적화된 인터럽트 처리
  - 선점 임계값™
  - 우선 순위 상속
  - 이벤트 체인™
  - 빠른 소프트웨어 타이머
  - 런타임 메모리 관리
  - 런타임 성능 모니터링
  - 런타임 스택 분석
  - 기본 제공 시스템 추적
  - 방대한 프로세서 지원
  - 방대한 개발 도구 지원
  - 완전한 endian 중립

### <a name="not-a-black-box"></a>블랙 박스가 아님
대부분의 ThreadX SMP 배포에는 전체 C 소스 코드와 프로세서별 어셈블리 언어가 포함됩니다. 따라서 많은 상용 커널에서 발생하는 “블랙 박스” 문제를 없앨 수 있습니다. ThreadX SMP를 사용하면 애플리케이션 개발자는 GUIX를 사용하여 커널이 수행하는 작업을 정확하게 파악할 수 있기 때문에 모든 것이 명확합니다!

또한 소스 코드를 사용하여 애플리케이션 관련 수정을 수행할 수 있습니다. 권장되지는 않지만 반드시 필요한 경우 커널을 수정하는 기능을 제공한 것은 확실히 유용합니다.

해당 특징은 자체 ‘사내 커널’로 작업하는 데 익숙한 개발자에게 특히 유용합니다. 이들에게는 소스 코드와 커널을 수정할 수 있는 기능이 필요합니다. ThreadX SMP는 이러한 개발자를 위한 최고의 커널입니다.

### <a name="the-rtos-standard"></a>RTOS 표준
이러한 다양성, 고성능 ‘피코커널’ 아키텍처, 고급 기술 및 시연된 이식성 때문에 ThreadX SMP는 현재 20억 개 이상의 디바이스에 배포되고 있습니다. 이를 통해 ThreadX SMP는 긴밀하게 포함된 애플리케이션에 대한 RTOS 표준이 되었습니다.

## <a name="safety-certifications"></a>안전 인증

### <a name="tv-certification"></a>TÜV 인증  
ThreadX SMP는 IEC61508 및 IEC-62304에 따라 안전이 중요한 시스템에서 사용하도록 SG-TÜV Saar에서 인증되었습니다. 이 인증은 "전기, 전자 및 프로그램 가능한 전자 안전 관련 시스템의 기능적 안전”에 대한 최고 수준의 IEC(International Electrotechnical Commission) 61508 및 IEC 62304의 안전 무결성 등급에 따라, ThreadX SMP를 보안 관련 소프트웨어의 개발에 사용할 수 있음을 확인합니다. 독일의 SGS-Group 및 TÜV Saarland의 합작으로 구성된 SGS-TÜV Saar는 전 세계의 안전 관련 시스템에 내장된 소프트웨어를 테스트, 감사, 확인, 인증하며, 널리 인정받는 주요한 독립 회사로 발전했습니다. 산업 보안 표준 IEC 61508과, 거기에서 파생된 모든 표준(IEC 62304 포함)은 전기, 전자 및 프로그래밍 가능한 전자 안전 관련 의료 장비, 공정 제어 시스템, 산업용 기계, 철도 제어 시스템의 기능 안전을 보장하는 데 사용됩니다.

SG-TÜV Saar에는 ISO 26262 표준에 따라 안전이 중요한 자동차 시스템에서 ThreadX SMP를 사용할 수 있도록 인증했습니다. 또한 ThreadX SMP는 최고 수준의 ISO 26262 인증을 나타내는 ASIL(자동차 안전 무결성 수준) D로 인증되었습니다.

또한 SG TÜV Saar는 안전이 중요한 철도 응용 분야에서 ThreadX SMP를 사용할 수 있도록 인증했으며 SW-SIL 4까지 EN 50128 표준을 충족하는 것으로 확인했습니다.

![TÜV 인증](media/image2.png)

최대 SIL 4의 IEC 61508  
최대 SW 안전 클래스 C의 IEC 62304  
ISO 26262 ASIL D  
EN 50128 SW-SIL 4  

> [!IMPORTANT]
> TÜV에서 인증한 ThreadX SMP 버전 또는 테스트 보고서, 인증서 및 관련 설명서의 가용성에 대한 자세한 내용은 [azure-rtos-support@microsoft.com](https://azure-rtos-support@microsoft.com)에 문의하세요.

### <a name="misra-c-compliant"></a>MISRA C 규격 
MISRA C는 C 프로그래밍 언어를 사용하는 중요 시스템에 대한 프로그래밍 지침입니다. 원래의 MISRA C 지침은 주로 자동차 분야를 대상으로 했지만, MISRA C는 이제 모든 안전 중요 분야에 적용할 수 있는 것으로 널리 인식되고 있습니다. ThreadX SMP는 MISRA-C:2004 및 MISRA C:2012의 모든 "필수" 및 "의무" 규칙을 준수합니다. ThreadX SMP는 세 가지 "권고" 규칙을 제외한 모든 규칙을 준수합니다. 자세한 내용은 ***ThreadX_MISRA_Compliance.pdf*** 문서를 참조하세요.

### <a name="ul-certification"></a>UL 인증 
UL은 ThreadX SMP가 프로그래밍 가능한 구성 요소에서의 소프트웨어에 대한 UL 60730-1 부칙 H, CSA E60730-1 부칙 H, IEC 60730-1 부칙 H, UL 60335-1 부칙 R, IEC 60335-1 부칙 R 및 UL 1998 안전 표준의 규정을 준수한다고 인증했습니다. IEC 60335-1 표준에서는 해당 부록 H에 포함된 "소프트웨어를 사용하여 제어"에 대한 요구 사항이 있는 IEC/UL 60730-1과 함께, 부록 R의 "프로그래밍 가능 전자 회로"에 대한 요구 사항을 설명합니다. IEC 60730 부록 H 및 IEC 60335-1 부록 R은 세탁기, 식기세척기, 건조기, 냉장고, 냉동고 및 오븐과 같은 가전 제품에서 사용되는 MCU 하드웨어 및 소프트웨어의 안전을 다룹니다.

![UL 인증](media/image3.png) 

*UL/IEC 60730, UL/IEC 60335, UL 1998*

> [!IMPORTANT]
> TÜV에서 인증한 ThreadX SMP 버전 또는 테스트 보고서, 인증서 및 관련 설명서의 가용성에 대한 자세한 내용은 [azure-rtos-support@microsoft.com](https://azure-rtos-support@microsoft.com)에 문의하세요.

### <a name="certification-pack"></a>인증 팩

ThreadX SMP 인증 팩™은 ThreadX SMP 기반 제품이 안전이 중요한 항공, 의료 및 산업용 시스템에 필요한 최대 안정성 및 중요도 수준임을 인증하거나 이러한 제품을 성공적으로 제출하는 데 필요한 모든 ThreadX SMP 증거를 제공하는 100% 완전한 턴키, 산업용 독립 실행형 패키지입니다. 지원되는 인증에는 178B, 12B, DO-278, FDA510 (k), IEC-62304, IEC-60601, ISO-14971, UL-1998, IEC-61508, CENELEC EN50128, BS50128 및 49CFR236이 포함됩니다. 인증 팩에 대한 자세한 내용은 sales@expresslogic.com에 문의하세요.

## <a name="embedded-applications"></a>포함된 애플리케이션

포함된 애플리케이션은 무선 통신 디바이스, 자동차 엔진, 레이저 프린터, 의료 디바이스 등의 제품 내에 장착되어 있는 마이크로프로세서에서 실행됩니다. 포함된 애플리케이션의 또 다른 차이점은 소프트웨어 및 하드웨어 각각에 전용 용도가 있다는 것입니다.

### <a name="real-time-software"></a>실시간 소프트웨어 
시간 제약 조건이 애플리케이션 소프트웨어에 적용되는 경우 이것을 ‘실시간’ 소프트웨어라고 합니다. 기본적으로 정확한 시간 내에 처리를 수행해야 하는 소프트웨어를 ‘실시간’ 소프트웨어라고 합니다. 포함된 애플리케이션은 본질적으로 외부 이벤트와 상호 작용하기 때문에 거의 항상 실시간입니다.

### <a name="multitasking"></a>멀티태스킹  
앞서 언급했듯이 포함된 애플리케이션에는 전용 용도가 있습니다. 이러한 목적을 달성하기 위해 소프트웨어에서는 다양한 작업을 수행해야 합니다. 작업은 특정 업무를 수행하는 애플리케이션의 부분적으로 독립된 부분입니다. 일부 작업이 다른 작업보다 더 중요한 경우도 있습니다. 포함된 애플리케이션에서 발생하는 주요 문제 중 하나는 다양한 애플리케이션 작업 간에 프로세서를 할당하는 것입니다. 경쟁 작업 간의 이러한 처리 할당이 ThreadX SMP의 주요 목적입니다.

### <a name="tasks-vs-threads"></a>작업 및 스레드 
작업에 대한 또 다른 차이점을 파악해야 합니다. 작업이라는 용어는 다양한 방법으로 사용됩니다. 경우에 따라 별도로 로드 가능한 프로그램을 의미합니다. 내부 프로그램 세그먼트를 나타내는 경우도 있습니다.

최신 운영 체제에 대한 논의에서는 ‘프로세스’ 및 ‘스레드’라는 두 용어가 사용됩니다. 프로세스가 작업 대신 더 많이 사용되고 스레드는 덜 사용됩니다.  ‘프로세스’는 자체 주소 공간이 있는 완전히 독립적인 프로그램이지만 ‘스레드’는 프로세스 내에서 실행되는 부분 독립적 프로그램 세그먼트입니다. 스레드는 동일한 프로세스 주소 공간을 공유합니다. 스레드 관리와 관련된 오버헤드는 최소화됩니다.

대부분의 포함된 애플리케이션은 완전한 프로세스 지향 운영 체제와 연결된 오버헤드(메모리 및 성능 모두)를 수용할 수 없습니다. 또한 작은 마이크로프로세서에는 진정한 프로세스 기반 운영 체제를 지원하기 위한 하드웨어 아키텍처가 없습니다. 이러한 이유로 ThreadX SMP는 대부분의 실시간 포함 애플리케이션에서 매우 효율적이고 실용적인 스레드 모델을 구현합니다.

혼동을 피하기 위해 ThreadX SMP는 용어 ‘작업’을 사용하지 않습니다. 대신 더 설명적이고 현대적인 이름인 ‘스레드’를 사용합니다.

## <a name="threadx-smp-benefits"></a>ThreadX SMP의 이점

ThreadX SMP를 사용하면 포함된 애플리케이션에 많은 이점이 제공할 수 있습니다. 물론, 주요 이점은 포함된 애플리케이션 스레드에 처리 시간을 할당하는 방식에 달려 있습니다.

### <a name="automatic-load-balancing"></a>자동 부하 분산  
ThreadX SMP는 자동 부하 분산(사용 가능한 코어 간 스레드 실행)을 제공하여 다중 코어 프로세서를 최대한 쉽게 활용할 수 있도록 합니다. 

### <a name="improved-responsiveness"></a>향상된 응답성  
ThreadX SMP와 같은 실시간 커널이 사용되기 전에, 대부분의 포함된 애플리케이션은 일반적으로 C *main* 함수 내에서 간단한 제어 루프를 사용하여 처리 시간을 할당했습니다. 이 방법은 매우 작거나 간단한 애플리케이션에서 계속 사용됩니다. 그러나 복잡한 대규모 애플리케이션에서는 이벤트에 대한 응답 시간이 제어 루프를 1번 통과할 때를 나타내는 최악의 처리 시간 함수이기 때문에 이 방법이 실용적이지 않습니다.

설상가상으로 제어 루프를 수정할 때마다 애플리케이션의 타이밍 특성이 변경되게 됩니다. 이로 인해 애플리케이션은 기본적으로 불안정해지고 유지 관리 및 개선하기 어려워집니다.

ThreadX SMP는 중요한 외부 이벤트에 대해 빠르고 결정적인 응답 시간을 제공합니다. ThreadX SMP는 우선 순위가 높은 스레드가 실행하는 우선 순위가 낮은 스레드 실행을 선점할 수 있는 선점형 우선 순위 기반 일정 알고리즘을 통해 이를 구현합니다. 결과적으로 최악의 응답 시간은 컨텍스트 전환을 수행하는 데 필요한 시간에 가까워집니다. 이것은 결정적일 뿐만 아니라 매우 빠릅니다.

### <a name="software-maintenance"></a>소프트웨어 유지 관리  
ThreadX SMP 커널을 사용하면 애플리케이션 개발자는 애플리케이션의 다른 영역에 대한 타이밍 변경에 대해 걱정할 필요 없이 애플리케이션 스레드의 특정 요구 사항에 집중할 수 있습니다. 이 기능을 통해 ThreadX SMP를 활용하는 애플리케이션을 훨씬 더 쉽게 복구하거나 개선할 수 있습니다.

### <a name="increased-throughput"></a>향상된 처리량.  
제어 루프 응답 시간 문제에 대한 가능한 해결 방법은 폴링을 더 추가하는 것입니다. 이로 인해 응답성이 향상되지만 여전히 일관된 최악의 응답 시간이 보장되지 않으며 애플리케이션의 향후 수정을 개선하기 위한 어떤 작업도 진행되지 않습니다. 또한 프로세서는 추가 폴링으로 인해 불필요한 처리를 좀 더 수행하게 됩니다. 이러한 불필요한 처리는 시스템의 전반적인 처리량을 줄입니다.

오버헤드와 관련된 흥미로운 점은 많은 개발자가 ThreadX SMP와 같은 다중 스레드 환경으로 인해 오버헤드가 증가하며 전체 시스템 처리량에 부정적인 영향을 미치는 것으로 간주한다는 것입니다. 하지만 경우에 따라 다중 스레딩이 실제로 제어 루프 환경에서 발생하는 모든 중복 폴링을 제거하여 오버헤드를 줄이게 됩니다. 다중 스레드 커널에 연결된 오버헤드는 일반적으로 컨텍스트 전환에 필요한 시간의 함수입니다. 컨텍스트 전환 시간이 폴링 프로세스보다 낮으면 ThreadX SMP는 오버헤드를 줄이고 처리량을 높일 수 있는 솔루션을 제공합니다. 이를 통해 ThreadX는 다양한 복잡성이나 크기를 갖는 애플리케이션에 적합한 선택 옵션입니다.

### <a name="processor-isolation"></a>프로세서 격리  
ThreadX SMP는 애플리케이션과 기본 프로세서 간에 프로세서와 관련이 없는 강력한 인터페이스를 제공합니다. 이를 통해 개발자는 많은 시간을 할애해서 하드웨어 세부 정보를 학습하는 대신, 애플리케이션에 집중할 수 있습니다. 

### <a name="dividing-the-application"></a>애플리케이션 분할  
제어 루프 기반 애플리케이션에서 각 개발자는 전체 애플리케이션의 런타임 동작 및 요구 사항에 대해 잘 알고 있어야 합니다. 프로세서 할당 논리가 전체 애플리케이션에 분산되어 있기 때문입니다. 애플리케이션의 크기나 복잡성이 증가함에 따라 모든 개발자가 전체 애플리케이션의 정확한 처리 요구 사항을 기억할 수는 없습니다.

ThreadX SMP는 개발자들이 프로세서 할당과 관련된 문제에 신경쓰지 않으면서 포함된 애플리케이션의 특정 부분에 집중할 수 있도록 합니다. 또한 ThreadX SMP는 강제로 애플리케이션이 명확하게 정의된 스레드로 분할되도록 합니다. 이와 같이 애플리케이션을 스레드로 분할하면서 개발이 훨씬 더 간단해집니다.

### <a name="ease-of-use"></a>사용 편의성  
ThreadX SMP는 애플리케이션 개발자를 고려해서 설계되었습니다. ThreadX SMP 아키텍처 및 서비스 호출 인터페이스는 쉽게 이해할 수 있도록 설계되었습니다. 결과적으로 ThreadX SMP 개발자는 고급 기능을 신속하게 사용할 수 있습니다.  

### <a name="improve-time-to-market"></a>출시 시간 개선  
ThreadX SMP의 모든 이점은 소프트웨어 개발 프로세스를 가속화합니다. ThreadX SMP는 대부분의 프로세서 문제와 가장 일반적인 안전 인증을 처리하므로 이러한 작업을 개발 일정에 포함할 필요가 없습니다. 이로 인해 출시 시간이 단축됩니다.  

### <a name="protecting-the-software-investment"></a>소프트웨어 투자 보호  
이러한 아키텍처 때문에 ThreadX SMP는 새 프로세서 및/또는 개발 도구 환경으로 쉽게 이식됩니다. 이러한 특성은 ThreadX SMP가 기본 프로세서의 세부 정보에서 애플리케이션을 분리한다는 사실과 결합되어 ThreadX SMP 애플리케이션의 이식성을 높이는 데 도움이 됩니다. 따라서 애플리케이션의 마이그레이션 경로가 보장되고 원래 개발 투자가 보호됩니다.