---
title: 챕터 1 - Azure RTOS NetX Duo FTP 소개
description: FTP(파일 전송 프로토콜)는 파일 전송을 위해 설계된 프로토콜입니다.
author: philmea
ms.author: philmea
ms.date: 07/14/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 1d56b20b1c7d719d1b7d9c8c5b2fe234d5577da3
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/22/2021
ms.locfileid: "104810801"
---
# <a name="chapter-1---introduction-to-azure-rtos-netx-duo-ftp"></a><span data-ttu-id="f7b41-103">챕터 1 - Azure RTOS NetX Duo FTP 소개</span><span class="sxs-lookup"><span data-stu-id="f7b41-103">Chapter 1 - Introduction to Azure RTOS NetX Duo FTP</span></span>

<span data-ttu-id="f7b41-104">FTP(파일 전송 프로토콜)는 파일 전송을 위해 설계된 프로토콜입니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-104">The File Transfer Protocol (FTP) is a protocol designed for file transfers.</span></span> <span data-ttu-id="f7b41-105">FTP는 신뢰할 수 있는 TCP(Transmission Control Protocol) 서비스를 사용하여 파일 전송 기능을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-105">FTP utilizes reliable Transmission Control Protocol (TCP) services to perform its file transfer function.</span></span> <span data-ttu-id="f7b41-106">따라서 FTP는 신뢰성이 높은 파일 전송 프로토콜입니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-106">Because of this, FTP is a highly reliable file transfer protocol.</span></span> <span data-ttu-id="f7b41-107">또한 FTP는 성능이 뛰어납니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-107">FTP is also high-performance.</span></span> <span data-ttu-id="f7b41-108">실제 FTP 파일 전송은 전용 FTP 연결에서 이루어집니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-108">The actual FTP file transfer is performed on a dedicated FTP connection.</span></span> <span data-ttu-id="f7b41-109">NetX Duo FTP는 IPv4 및 IPv6 네트워크를 모두 수용합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-109">NetX Duo FTP accommodates both IPv4 and IPv6 networks.</span></span> <span data-ttu-id="f7b41-110">IPv6는 FTP 프로토콜을 직접 변경하지 않지만, 원본 NetX FTP API에서 IPv6를 수용하려면 몇 가지 부분을 변경해야 하며, 해당 내용은 이 문서에서 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-110">IPv6 does not directly change the FTP protocol, although some changes in the original NetX FTP API are necessary to accommodate IPv6 and will be described in this document.</span></span>

## <a name="ftp-requirements"></a><span data-ttu-id="f7b41-111">FTP 요구 사항</span><span class="sxs-lookup"><span data-stu-id="f7b41-111">FTP Requirements</span></span>

<span data-ttu-id="f7b41-112">NetX FTP 패키지가 제대로 작동하려면 NetX Duo가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-112">In order to function properly, the NetX FTP package requires NetX Duo.</span></span> <span data-ttu-id="f7b41-113">호스트 애플리케이션은 NetX 서비스 및 정기 작업을 실행하기 위한 IP 인스턴스를 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-113">The host application must create an IP instance for running NetX services and periodic tasks.</span></span> <span data-ttu-id="f7b41-114">IPv6 네트워크를 통해 FTP 호스트 애플리케이션을 실행하는 경우 IP 작업에서 IPv6 및 ICMPv6를 사용하도록 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-114">If running the FTP host application over an IPv6 network, IPv6, and ICMPv6 must be enabled on the IP task.</span></span> <span data-ttu-id="f7b41-115">IPv6 또는 IPv4 네트워크에 TCP도 사용하도록 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-115">TCP must be also enabled for either IPv6 or IPv4 networks.</span></span> <span data-ttu-id="f7b41-116">IPv6 호스트 애플리케이션은 IPv6 API 및/또는 DHCPv6를 사용하여 링크로컬 및 글로벌 IPv6 주소를 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-116">The IPv6 host application must set its linklocal and global IPv6 address using the IPv6 API and/or DHCPv6.</span></span> <span data-ttu-id="f7b41-117">**챕터 2** 의 “작은 예제 시스템” 섹션에 있는 데모 프로그램은 이를 수행하는 방법을 보여줍니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-117">A demo program in section “Small Example System” in **Chapter 2** demonstrates how this is done.</span></span>

<span data-ttu-id="f7b41-118">FTP 서버와 클라이언트도 FileX 포함된 파일 시스템에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-118">The FTP Server and Client are also designed to work with the FileX embedded file system.</span></span> <span data-ttu-id="f7b41-119">FileX를 사용할 수 없는 경우, 호스트 개발자는 filex_stub.h에서 제안하는 지침에 따라 해당 파일에 나열된 각 서비스를 정의하여 자체 파일 시스템을 구현하거나 대체할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-119">If FileX is not available, the host developer can implement or substitute their own file system along the guidelines suggested in filex_stub.h by defining each of the services listed in that file.</span></span> <span data-ttu-id="f7b41-120">이에 대해서는 이 가이드의 이후 섹션에서 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-120">This is discussed in later sections of this guide.</span></span>

<span data-ttu-id="f7b41-121">NetX FTP 패키지의 FTP 클라이언트 부분에는 추가 요구 사항이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-121">The FTP Client portion of the NetX FTP package has no further requirements.</span></span>

<span data-ttu-id="f7b41-122">NetX FTP 패키지의 FTP 서버 부분에는 여러 추가 요구 사항이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-122">The FTP Server portion of the NetX FTP package has several additional requirements.</span></span> <span data-ttu-id="f7b41-123">먼저 모든 클라이언트 FTP 명령 처리를 위해 TCP의 *잘 알려진 포트 21*, 모든 클라이언트 FTP 데이터 전송 처리를 위해 *잘 알려진 포트 20* 에 대한 완전한 액세스 권한이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-123">First, it requires complete access to TCP *well-known port 21* for handling all Client FTP command requests and *well-known port 20* for handling all Client FTP data transfers.</span></span>

## <a name="ftp-constraints"></a><span data-ttu-id="f7b41-124">FTP 제약 조건</span><span class="sxs-lookup"><span data-stu-id="f7b41-124">FTP Constraints</span></span>

<span data-ttu-id="f7b41-125">FTP 표준에는 파일 데이터 표현과 관련된 많은 옵션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-125">The FTP standard has many options regarding the representation of file data.</span></span> <span data-ttu-id="f7b41-126">NetX FTP는 스위치 옵션(예: ls –al)을 구현하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-126">NetX FTP does not implement switch options e.g. ls –al.</span></span> <span data-ttu-id="f7b41-127">NetX FTP 서버는 연속 패킷이 아닌 단일 패킷에서 요청 및 해당 인수를 받아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-127">NetX FTP Server expects to receive requests and their arguments in a single packet rather than consecutive packets.</span></span>

<span data-ttu-id="f7b41-128">UNIX 구현과 마찬가지로, NetX FTP는 다음과 같은 파일 형식 제약 조건을 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-128">Similar to UNIX implementations, NetX FTP assumes the following file format constraints:</span></span>

- <span data-ttu-id="f7b41-129">파일 유형: **이진**</span><span class="sxs-lookup"><span data-stu-id="f7b41-129">File Type: **Binary**</span></span>
- <span data-ttu-id="f7b41-130">파일 형식: **비 인쇄 전용**</span><span class="sxs-lookup"><span data-stu-id="f7b41-130">File Format: **Nonprint Only**</span></span>
- <span data-ttu-id="f7b41-131">파일 구조: **파일 구조만**</span><span class="sxs-lookup"><span data-stu-id="f7b41-131">File Structure: **File Structure Only**</span></span>

## <a name="ftp-file-names"></a><span data-ttu-id="f7b41-132">FTP 파일 이름</span><span class="sxs-lookup"><span data-stu-id="f7b41-132">FTP File Names</span></span>

<span data-ttu-id="f7b41-133">FTP 파일 이름은 대상 파일 시스템(일반적으로 FileX)의 형식이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-133">FTP file names should be in the format of the target file system (usually FileX).</span></span> <span data-ttu-id="f7b41-134">필요한 경우 전체 경로 정보를 포함하는 NULL 종료 ASCII 문자열이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-134">They should be NULL terminated ASCII strings, with full path information if necessary.</span></span> <span data-ttu-id="f7b41-135">NetX FTP 구현에서는 FTP 파일 이름 크기 제한이 지정되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-135">There is no specified limit for the size of FTP file names in the NetX FTP implementation.</span></span> <span data-ttu-id="f7b41-136">하지만 패킷 풀 페이로드 크기는 최대 경로 및/또는 파일 이름을 수용할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-136">However, the packet pool payload size should be able to accommodate the maximum path and/or file name.</span></span>

## <a name="ftp-client-commands"></a><span data-ttu-id="f7b41-137">FTP 클라이언트 명령</span><span class="sxs-lookup"><span data-stu-id="f7b41-137">FTP Client Commands</span></span>

<span data-ttu-id="f7b41-138">FTP에는 연결을 열고 파일 및 디렉터리 작업을 수행하는 간편한 메커니즘이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-138">The FTP has a simple mechanism for opening connections and performing file and directory operations.</span></span> <span data-ttu-id="f7b41-139">기본적으로 TCP의 *잘 알려진 포트 21* 에서 연결이 성공적으로 설정된 후 클라이언트에서 실행되는 표준 FTP 명령 세트가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-139">There is basically a set of standard FTP commands that are issued by the Client after a connection has been successfully established on the TCP *well-known port 21*.</span></span> <span data-ttu-id="f7b41-140">다음은 몇 가지 기본 FTP 명령입니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-140">The following shows some of the basic FTP commands.</span></span> <span data-ttu-id="f7b41-141">IPv6를 통해 FTP를 실행하는 경우 유일한 차이점은 PORT 명령이 EPRT 명령으로 대체된다는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-141">Note that the only difference when FTP runs over IPv6 is that the PORT command is replaced with the EPRT command:</span></span>

- <span data-ttu-id="f7b41-142">CWD path *작업 디렉터리 변경*</span><span class="sxs-lookup"><span data-stu-id="f7b41-142">CWD path *Change working directory*</span></span>
- <span data-ttu-id="f7b41-143">DELE filename *지정된 파일 이름 삭제*</span><span class="sxs-lookup"><span data-stu-id="f7b41-143">DELE filename *Delete specified file name*</span></span>
- <span data-ttu-id="f7b41-144">EPRT ip_address, port *IPv6 주소 및 클라이언트 데이터 포트 제공*</span><span class="sxs-lookup"><span data-stu-id="f7b41-144">EPRT ip_address, port *Provide IPv6 address and Client data port*</span></span>
- <span data-ttu-id="f7b41-145">EPSV *IPv6 수동 전송 모드 요청*</span><span class="sxs-lookup"><span data-stu-id="f7b41-145">EPSV *Request passive transfer mode for IPv6*</span></span>
- <span data-ttu-id="f7b41-146">LIST directory *디렉터리 목록 가져오기*</span><span class="sxs-lookup"><span data-stu-id="f7b41-146">LIST directory *Get directory listing*</span></span>
- <span data-ttu-id="f7b41-147">MKD directory *새 디렉터리 만들기*</span><span class="sxs-lookup"><span data-stu-id="f7b41-147">MKD directory *Make new directory*</span></span>
- <span data-ttu-id="f7b41-148">NLST directory *디렉터리 목록 가져오기*</span><span class="sxs-lookup"><span data-stu-id="f7b41-148">NLST directory *Get directory listing*</span></span>
- <span data-ttu-id="f7b41-149">NOOP *작업 없음, 성공 반환*</span><span class="sxs-lookup"><span data-stu-id="f7b41-149">NOOP *No operation, returns success*</span></span>
- <span data-ttu-id="f7b41-150">PASS password *로그인 암호 제공*</span><span class="sxs-lookup"><span data-stu-id="f7b41-150">PASS password *Provide password for login*</span></span>
- <span data-ttu-id="f7b41-151">PASV *IPv4 수동 전송 모드 요청*</span><span class="sxs-lookup"><span data-stu-id="f7b41-151">PASV *Request passive transfer mode for IPv4*</span></span>
- <span data-ttu-id="f7b41-152">PORT ip_address,port *IP 주소 및 클라이언트 데이터 포트 제공*</span><span class="sxs-lookup"><span data-stu-id="f7b41-152">PORT ip_address,port *Provide IP address and Client data port*</span></span>
- <span data-ttu-id="f7b41-153">PWD path *현재 디렉터리 경로 픽업*</span><span class="sxs-lookup"><span data-stu-id="f7b41-153">PWD path *Pickup current directory path*</span></span>
- <span data-ttu-id="f7b41-154">QUIT *클라이언트 연결 종료*</span><span class="sxs-lookup"><span data-stu-id="f7b41-154">QUIT *Terminate Client connection*</span></span>
- <span data-ttu-id="f7b41-155">RETR filename *지정된 파일 읽기*</span><span class="sxs-lookup"><span data-stu-id="f7b41-155">RETR filename *Read specified file*</span></span>
- <span data-ttu-id="f7b41-156">RMD directory *지정된 디렉터리 삭제*</span><span class="sxs-lookup"><span data-stu-id="f7b41-156">RMD directory *Delete specified directory*</span></span>
- <span data-ttu-id="f7b41-157">RNFR oldfilename *이름을 바꿀 파일 지정*</span><span class="sxs-lookup"><span data-stu-id="f7b41-157">RNFR oldfilename *Specify file to rename*</span></span>
- <span data-ttu-id="f7b41-158">RNTO newfilename *제공된 파일 이름으로 파일 이름 바꾸기*</span><span class="sxs-lookup"><span data-stu-id="f7b41-158">RNTO newfilename *Rename file to supplied file name*</span></span>
- <span data-ttu-id="f7b41-159">STOR filename *지정된 파일 쓰기*</span><span class="sxs-lookup"><span data-stu-id="f7b41-159">STOR filename *Write specified file*</span></span>
- <span data-ttu-id="f7b41-160">TYPE I *이진 파일 이미지 선택*</span><span class="sxs-lookup"><span data-stu-id="f7b41-160">TYPE I *Select binary file image*</span></span>
- <span data-ttu-id="f7b41-161">USER username *로그인 사용자 이름 입력*</span><span class="sxs-lookup"><span data-stu-id="f7b41-161">USER username *Provide username for login*</span></span>

<span data-ttu-id="f7b41-162">이러한 ASCII 명령은 NetX FTP 클라이언트 소프트웨어 내부에서 FTP 서버를 사용하는 FTP 작업을 수행하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-162">These ASCII commands are used internally by the NetX FTP Client software to perform FTP operations with the FTP Server.</span></span>

## <a name="ftp-server-responses"></a><span data-ttu-id="f7b41-163">FTP 서버 응답</span><span class="sxs-lookup"><span data-stu-id="f7b41-163">FTP Server Responses</span></span>

<span data-ttu-id="f7b41-164">FTP 서버가 클라이언트 요청을 처리한 후 ASCII 형식의 3자리로 코딩된 응답과 선택 사항인 ASCII 텍스트를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-164">Once the FTP Server processes the Client request, it returns a 3-digit coded response in ASCII followed by optional ASCII text.</span></span> <span data-ttu-id="f7b41-165">이 숫자 응답은 FTP 클라이언트 소프트웨어가 작업 성공 또는 실패 여부를 확인하기 위해 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-165">The numeric response is used by the FTP Client software to determine whether the operation succeeded or failed.</span></span> <span data-ttu-id="f7b41-166">다음은 클라이언트 요청에 대한 다양한 FTP 서버 응답 목록을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-166">The following list shows various FTP Server responses to Client requests:</span></span>

<span data-ttu-id="f7b41-167">**첫 번째 숫자 필드 의미**</span><span class="sxs-lookup"><span data-stu-id="f7b41-167">**First Numeric Field Meaning**</span></span>

- <span data-ttu-id="f7b41-168">1xx *긍정 예비 상태 - 또 다른 회신을 수신하는 중입니다*.</span><span class="sxs-lookup"><span data-stu-id="f7b41-168">1xx *Positive preliminary status – another reply coming*.</span></span>
- <span data-ttu-id="f7b41-169">2xx *긍정 완료 상태*</span><span class="sxs-lookup"><span data-stu-id="f7b41-169">2xx *Positive completion status*.</span></span>
- <span data-ttu-id="f7b41-170">3xx *긍정 예비 상태 - 또 다른 명령을 전송해야 합니다*.</span><span class="sxs-lookup"><span data-stu-id="f7b41-170">3xx *Positive preliminary status – another command must be sent*.</span></span>
- <span data-ttu-id="f7b41-171">4xx *임시 오류 조건*</span><span class="sxs-lookup"><span data-stu-id="f7b41-171">4xx *Temporary error condition*.</span></span>
- <span data-ttu-id="f7b41-172">5xx *오류 조건*</span><span class="sxs-lookup"><span data-stu-id="f7b41-172">5xx *Error condition.*</span></span>

<span data-ttu-id="f7b41-173">**두 번째 숫자 필드 의미**</span><span class="sxs-lookup"><span data-stu-id="f7b41-173">**Second Numeric Field Meaning**</span></span>

- <span data-ttu-id="f7b41-174">x0x *명령의 구문 오류*</span><span class="sxs-lookup"><span data-stu-id="f7b41-174">x0x *Syntax error in command*.</span></span>
- <span data-ttu-id="f7b41-175">x1x *정보 메시지*</span><span class="sxs-lookup"><span data-stu-id="f7b41-175">x1x *Informational message*.</span></span>
- <span data-ttu-id="f7b41-176">x2x *연결 관련*</span><span class="sxs-lookup"><span data-stu-id="f7b41-176">x2x *Connection related*.</span></span>
- <span data-ttu-id="f7b41-177">x3x *인증 관련*</span><span class="sxs-lookup"><span data-stu-id="f7b41-177">x3x *Authentication related*.</span></span>
- <span data-ttu-id="f7b41-178">x4x *지정되지 않음*</span><span class="sxs-lookup"><span data-stu-id="f7b41-178">x4x *Unspecified*.</span></span>
- <span data-ttu-id="f7b41-179">x5x *파일 시스템 관련*</span><span class="sxs-lookup"><span data-stu-id="f7b41-179">x5x *File system related*.</span></span>

<span data-ttu-id="f7b41-180">예를 들어 QUIT 명령을 사용하여 FTP 연결을 해제하는 클라이언트 요청은 일반적으로 서버에서 "221" 코드 응답을 받습니다(연결 해제가 완료된 경우).</span><span class="sxs-lookup"><span data-stu-id="f7b41-180">For example, a Client request to disconnect an FTP connection with the QUIT command will typically be responded with a “221” code from the Server – if the disconnect is successful.</span></span>

## <a name="ftp-passive-transfer-mode"></a><span data-ttu-id="f7b41-181">FTP 수동 전송 모드</span><span class="sxs-lookup"><span data-stu-id="f7b41-181">FTP Passive Transfer Mode</span></span>

<span data-ttu-id="f7b41-182">기본적으로 NetX Duo FTP 클라이언트는 활성 전송 모드를 사용하여 FTP 서버와 데이터 소켓을 통해 데이터를 교환합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-182">By default, the NetX Duo FTP Client uses the active transport mode to exchange data over the data socket with the FTP server.</span></span> <span data-ttu-id="f7b41-183">이에 대한 문제는 FTP 클라이언트에서 FTP 서버에 연결할 TCP 서버 소켓을 열어야 한다는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-183">The problem with this arrangement is that it requires the FTP Client to open a TCP server socket for the FTP Server to connect to.</span></span> <span data-ttu-id="f7b41-184">이는 가능한 보안 위험을 나타내며 클라이언트 방화벽에 의해 차단될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-184">This represents a possible security risk and may be blocked by the Client firewall.</span></span> <span data-ttu-id="f7b41-185">수동 전송 모드는 FTP 서버에서 데이터 연결에 TCP 서버 소켓을 만들도록 하므로 활성 전송 모드와 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-185">Passive transfer mode differs from active transport mode by having the FTP server create the TCP server socket on the data connection.</span></span> <span data-ttu-id="f7b41-186">이렇게 하면 (FTP 클라이언트에 대한) 보안 위험이 제거됩니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-186">This eliminates the security risk (for the FTP Client).</span></span>

<span data-ttu-id="f7b41-187">애플리케이션이 수동 데이터 전송을 사용하도록 설정하기 위해 두 번째 인수를 NX_TRUE로 설정하여 이전에 생성되었던 FTP 클라이언트에서 *nx_ftp_client_passive_mode_set* 를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-187">To enable passive data transfer, the application calls *nx_ftp_client_passive_mode_set* on a previously created FTP Client with the second argument set to NX_TRUE.</span></span> <span data-ttu-id="f7b41-188">이후에 데이터를 전송하는 모든 후속 NetX Duo FTP 클라이언트 서비스(NLST, RETR, STOR)는 수동 전송 모드에서 시도됩니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-188">Thereafter, all subsequent NetX Duo FTP Client services for transferring data (NLST, RETR, STOR) are attempted in the passive transport mode.</span></span>

<span data-ttu-id="f7b41-189">FTP 클라이언트는 먼저 수동 명령(인수 없음), IPv4에 대한 PASV 명령 또는 IPv6에 대한 EPSV 명령을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-189">The FTP Client first sends the passive command (no arguments), PASV command for IPv4 or EPSV command for IPv6.</span></span> <span data-ttu-id="f7b41-190">FTP 서버에서 이 요청을 지원하면 PASV에 대해 227 "OK" 응답을 반환하고, EPSV에 대해 229 "OK" 응답을 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-190">If the FTP server supports this request it will return the 227 “OK” response for PASV, and 229 “OK” response for EPSV.</span></span> <span data-ttu-id="f7b41-191">그런 다음, 클라이언트가 요청을 보냅니다(예: RETR).</span><span class="sxs-lookup"><span data-stu-id="f7b41-191">Then the Client sends the request e.g. RETR.</span></span> <span data-ttu-id="f7b41-192">서버에서 수동 전송 모드를 거부하는 경우 NetX Duo FTP 클라이언트 서비스는 오류 상태를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-192">If the server refuses passive transfer mode, the NetX Duo FTP Client service returns an error status.</span></span>

<span data-ttu-id="f7b41-193">수동 전송 모드를 사용하지 않도록 설정하고 활성 전송 모드를 반환하도록 애플리케이션에서 두 번째 인수가 NX_FALSE로 설정된 *nx_ftp_client_passive_mode_set* 를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-193">To disable passive transport mode and return to active transport mode, the application calls *nx_ftp_client_passive_mode_set* with the second argument set to NX_FALSE.</span></span>

## <a name="ftp-communication"></a><span data-ttu-id="f7b41-194">FTP 통신</span><span class="sxs-lookup"><span data-stu-id="f7b41-194">FTP Communication</span></span>

<span data-ttu-id="f7b41-195">FTP 서버는 필드 클라이언트 요청에 대해 *잘 알려진 TCP 포트 21* 을 활용합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-195">The FTP Server utilizes the *well-known TCP port 21* to field Client requests.</span></span> <span data-ttu-id="f7b41-196">FTP 클라이언트는 사용 가능한 모든 TCP 포트를 이용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-196">FTP Clients may use any available TCP port.</span></span> <span data-ttu-id="f7b41-197">FTP 이벤트의 일반 시퀀스는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-197">The general sequence of FTP events is as follows:</span></span>

<span data-ttu-id="f7b41-198">**FTP 파일 읽기 요청**:</span><span class="sxs-lookup"><span data-stu-id="f7b41-198">**FTP Read File Requests**:</span></span>

1. <span data-ttu-id="f7b41-199">클라이언트가 서버 포트 21에 TCP 연결을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-199">Client issues TCP connect to Server port 21.</span></span>
1. <span data-ttu-id="f7b41-200">서버에서 신호 성공에 대한 "220" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-200">Server sends “220” response to signal success.</span></span>
1. <span data-ttu-id="f7b41-201">클라이언트에서 "username"을 포함한 "USER" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-201">Client sends “USER” message with “username.”</span></span>
1. <span data-ttu-id="f7b41-202">서버에서 신호 성공에 대한 "331" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-202">Server sends “331” response to signal success.</span></span>
1. <span data-ttu-id="f7b41-203">클라이언트에서 "password"를 포함한 "PASS" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-203">Client sends “PASS” message with “password.”</span></span>
1. <span data-ttu-id="f7b41-204">서버에서 신호 성공에 대한 "230" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-204">Server sends “230” response to signal success.</span></span>
1. <span data-ttu-id="f7b41-205">클라이언트에서 이진 전송에 대한 "TYPE I" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-205">Client sends “TYPE I” message for binary transfer.</span></span>
1. <span data-ttu-id="f7b41-206">서버에서 신호 성공에 대한 "200" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-206">Server sends “200” response to signal success.</span></span>
1. <span data-ttu-id="f7b41-207">*IPv4 애플리케이션*: 클라이언트에서 IP 주소 및 포트를 포함한 "PORT" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-207">*IPv4 applications*: Client sends “PORT” message with IP address and port.</span></span><br /><span data-ttu-id="f7b41-208">*IPv6 애플리케이션*: 클라이언트에서 IP 주소 및 포트를 포함한 "EPRT" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-208">*IPv6 applications*: Client sends “EPRT” message with IP address and port.</span></span>
1. <span data-ttu-id="f7b41-209">서버에서 신호 성공에 대한 "200" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-209">Server sends “200” response to signal success.</span></span>
1. <span data-ttu-id="f7b41-210">클라이언트에서 읽을 파일 이름을 포함한 "RETR" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-210">Client sends “RETR” message with file name to read.</span></span>
1. <span data-ttu-id="f7b41-211">서버에서 데이터 소켓을 만들고 "PORT" 명령에 지정된 클라이언트 데이터 포트에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-211">Server creates data socket and connects with client data port specified in the “PORT” command.</span></span>
1. <span data-ttu-id="f7b41-212">서버에서 "125" 응답을 보내 파일 읽기가 시작되었음을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-212">Server sends “125” response to signal file read has started.</span></span>
1. <span data-ttu-id="f7b41-213">서버에서 데이터 연결을 통해 파일의 내용을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-213">Server sends contents of file through the data connection.</span></span> <span data-ttu-id="f7b41-214">이 프로세스는 파일이 완전히 전송될 때까지 계속됩니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-214">This process continues until file is completely transferred.</span></span>
1. <span data-ttu-id="f7b41-215">완료되면 서버에서 데이터 연결을 해제합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-215">When finished, Server disconnects data connection.</span></span>
1. <span data-ttu-id="f7b41-216">서버에서 파일 읽기에 성공했음을 나타내는 "250" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-216">Server sends “250” response to signal file read is successful.</span></span>
1. <span data-ttu-id="f7b41-217">클라이언트에서 FTP 연결을 종료하기 위해 "QUIT"을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-217">Client sends “QUIT” to terminate FTP connection.</span></span>
1. <span data-ttu-id="f7b41-218">서버에서 신호 연결 해제에 성공했음을 나타내는 "221" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-218">Server sends “221” response to signal disconnect is successful.</span></span>
1. <span data-ttu-id="f7b41-219">서버에서 FTP 연결을 해제합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-219">Server disconnects FTP connection.</span></span>

<span data-ttu-id="f7b41-220">앞서 언급했듯이, IPv4를 통해 실행되는 FTP와 IPv6를 통해 실행되는 FTP의</span><span class="sxs-lookup"><span data-stu-id="f7b41-220">As mentioned previously, the only difference between FTP running over IPv4 and</span></span>

<span data-ttu-id="f7b41-221">유일한 차이점은 PORT 명령이 IPv6에서 EPRT 명령으로 대체된다는 점입니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-221">IPv6 is the PORT command is replaced with the EPRT command for IPv6</span></span>

<span data-ttu-id="f7b41-222">FTP 클라이언트가 수동 전송 모드에서 읽기 요청을 수행하는 경우 명령 시퀀스는 다음과 같습니다(**굵게** 표시된 줄은 활성 전송 모드에서 단계가 다름을 의미함).</span><span class="sxs-lookup"><span data-stu-id="f7b41-222">If the FTP Client makes a read request in the passive transfer mode, the command sequence is as follows (**bolded** lines indicates a different step from active transfer mode):</span></span>

1. <span data-ttu-id="f7b41-223">클라이언트가 서버 포트 21에 TCP 연결을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-223">Client issues TCP connect to Server port 21.</span></span>
1. <span data-ttu-id="f7b41-224">서버에서 신호 성공에 대한 "220" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-224">Server sends “220” response to signal success.</span></span>
1. <span data-ttu-id="f7b41-225">클라이언트에서 "username"을 포함한 "USER" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-225">Client sends “USER” message with “username.”</span></span>
1. <span data-ttu-id="f7b41-226">서버에서 신호 성공에 대한 "331" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-226">Server sends “331” response to signal success.</span></span>
1. <span data-ttu-id="f7b41-227">클라이언트에서 "password"를 포함한 "PASS" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-227">Client sends “PASS” message with “password.”</span></span>
1. <span data-ttu-id="f7b41-228">서버에서 신호 성공에 대한 "230" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-228">Server sends “230” response to signal success.</span></span>
1. <span data-ttu-id="f7b41-229">클라이언트에서 이진 전송에 대한 "TYPE I" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-229">Client sends “TYPE I” message for binary transfer.</span></span>
1. <span data-ttu-id="f7b41-230">서버에서 신호 성공에 대한 "200" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-230">Server sends “200” response to signal success.</span></span>
1. <span data-ttu-id="f7b41-231">***IPv4 애플리케이션:* 클라이언트에서 "PASV" 메시지를 보냅니다.**</span><span class="sxs-lookup"><span data-stu-id="f7b41-231">***IPv4 applications:* Client sends “PASV” message.**</span></span><br /><span data-ttu-id="f7b41-232">**_IPv6 애플리케이션:_ 클라이언트에서 "EPSV" 메시지를 보냅니다.**</span><span class="sxs-lookup"><span data-stu-id="f7b41-232">**_IPv6 applications:_ Client sends “EPSV” message.**</span></span>
1. <span data-ttu-id="f7b41-233">***IPv4 애플리케이션:* 서버에서 성공을 나타내는 "227" 응답과 클라이언트가 연결해야 하는 IP 주소 및 포트를 보냅니다.**</span><span class="sxs-lookup"><span data-stu-id="f7b41-233">***IPv4 applications:* Server sends “227” response, and IP address and port for the Client to connect to, to signal success.**</span></span><br /><span data-ttu-id="f7b41-234">**_IPv6 애플리케이션:_ 서버에서 성공을 나타내는 "229" 응답과 클라이언트가 연결해야 하는 IP 주소 및 포트를 보냅니다.**</span><span class="sxs-lookup"><span data-stu-id="f7b41-234">**_IPv6 applications:_ Server sends “229” response, and IP address and port for the Client to connect to, to signal success.**</span></span>
1. <span data-ttu-id="f7b41-235">클라이언트에서 읽을 파일 이름을 포함한 "RETR" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-235">Client sends “RETR” message with file name to read.</span></span>
1. <span data-ttu-id="f7b41-236">**서버에서 데이터 서버 소켓을 만들고 10단계의 응답에 지정된 포트를 사용하여 이 소켓에서 클라이언트 연결 요청을 수신합니다.**</span><span class="sxs-lookup"><span data-stu-id="f7b41-236">**Server creates data server socket and listens for the Client connect request on this socket using the port specified in the response in step 10.**</span></span>
1. <span data-ttu-id="f7b41-237">**서버에서 제어 소켓에 대해 파일 읽기가 시작되었음을 나타내는 "150" 응답을 보냅니다.**</span><span class="sxs-lookup"><span data-stu-id="f7b41-237">**Server sends “150” response on the control socket to signal file read has started.**</span></span>
1. <span data-ttu-id="f7b41-238">서버에서 데이터 연결을 통해 파일의 내용을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-238">Server sends contents of file through the data connection.</span></span> <span data-ttu-id="f7b41-239">이 프로세스는 파일이 완전히 전송될 때까지 계속됩니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-239">This process continues until file is completely transferred.</span></span>
1. <span data-ttu-id="f7b41-240">완료되면 서버에서 데이터 연결을 해제합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-240">When finished, Server disconnects data connection.</span></span>
1. <span data-ttu-id="f7b41-241">**서버에서 제어 소켓에 대해 파일 읽기에 성공했음을 나타내는 "226" 응답을 보냅니다.**</span><span class="sxs-lookup"><span data-stu-id="f7b41-241">**Server sends “226” response on the control socket to signal file read is successful.**</span></span>
1. <span data-ttu-id="f7b41-242">클라이언트에서 FTP 연결을 종료하기 위해 "QUIT"을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-242">Client sends “QUIT” to terminate FTP connection.</span></span>
1. <span data-ttu-id="f7b41-243">서버에서 신호 연결 해제에 성공했음을 나타내는 "221" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-243">Server sends “221” response to signal disconnect is successful.</span></span>
1. <span data-ttu-id="f7b41-244">서버에서 FTP 연결을 해제합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-244">Server disconnects FTP connection.</span></span>

<span data-ttu-id="f7b41-245">**FTP 쓰기 요청**:</span><span class="sxs-lookup"><span data-stu-id="f7b41-245">**FTP Write Requests**:</span></span>

1. <span data-ttu-id="f7b41-246">클라이언트가 서버 포트 21에 TCP 연결을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-246">Client issues TCP connect to Server port 21.</span></span>
1. <span data-ttu-id="f7b41-247">서버에서 신호 성공에 대한 "220" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-247">Server sends “220” response to signal success.</span></span>
1. <span data-ttu-id="f7b41-248">클라이언트에서 "username"을 포함한 "USER" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-248">Client sends “USER” message with “username.”</span></span>
1. <span data-ttu-id="f7b41-249">서버에서 신호 성공에 대한 "331" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-249">Server sends “331” response to signal success.</span></span>
1. <span data-ttu-id="f7b41-250">클라이언트에서 "password"를 포함한 "PASS" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-250">Client sends “PASS” message with “password.”</span></span>
1. <span data-ttu-id="f7b41-251">서버에서 신호 성공에 대한 "230" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-251">Server sends “230” response to signal success.</span></span>
1. <span data-ttu-id="f7b41-252">클라이언트에서 이진 전송에 대한 "TYPE I" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-252">Client sends “TYPE I” message for binary transfer.</span></span>
1. <span data-ttu-id="f7b41-253">서버에서 신호 성공에 대한 "200" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-253">Server sends “200” response to signal success.</span></span>
1. <span data-ttu-id="f7b41-254">*IPv4 애플리케이션*: 클라이언트에서 IP 주소 및 포트를 포함한 "PORT" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-254">*IPv4 applications*: Client sends “PORT” message with IP address and port.</span></span><br /><span data-ttu-id="f7b41-255">*IPv6 애플리케이션*: 클라이언트에서 IP 주소 및 포트를 포함한 "EPRT" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-255">*IPv6 applications*: Client sends “EPRT” message with IP address and port.</span></span>
1. <span data-ttu-id="f7b41-256">서버에서 신호 성공에 대한 "200" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-256">Server sends “200” response to signal success.</span></span>
1. <span data-ttu-id="f7b41-257">클라이언트에서 쓸 파일 이름을 포함한 "STOR" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-257">Client sends “STOR” message with file name to write.</span></span>
1. <span data-ttu-id="f7b41-258">서버에서 데이터 소켓을 만들고 이전의 "EPRT" 또는 "PORT" 명령에 지정된 클라이언트 데이터 포트에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-258">Server creates data socket and connects with client data port specified in the previous “EPRT” or “PORT” command.</span></span>
1. <span data-ttu-id="f7b41-259">서버에서 파일 쓰기가 시작되었음을 나타내는 "125" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-259">Server sends “125” response to signal file write has started.</span></span>
1. <span data-ttu-id="f7b41-260">클라이언트에서 데이터 연결을 통해 파일의 내용을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-260">Client sends contents of file through the data connection.</span></span> <span data-ttu-id="f7b41-261">이 프로세스는 파일이 완전히 전송될 때까지 계속됩니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-261">This process continues until file is completely transferred.</span></span>
1. <span data-ttu-id="f7b41-262">완료되면 클라이언트에서 데이터 연결을 해제합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-262">When finished, Client disconnects data connection.</span></span>
1. <span data-ttu-id="f7b41-263">서버에서 파일 쓰기가 성공했음을 나타내는 "250" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-263">Server sends “250” response to signal file write is successful.</span></span>
1. <span data-ttu-id="f7b41-264">클라이언트에서 FTP 연결을 종료하기 위해 "QUIT"을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-264">Client sends “QUIT” to terminate FTP connection.</span></span>
1. <span data-ttu-id="f7b41-265">서버에서 신호 연결 해제에 성공했음을 나타내는 "221" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-265">Server sends “221” response to signal disconnect is successful.</span></span>
1. <span data-ttu-id="f7b41-266">서버에서 FTP 연결을 해제합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-266">Server disconnects FTP connection.</span></span>

<span data-ttu-id="f7b41-267">FTP 클라이언트가 수동 전송 모드에서 쓰기 요청을 수행하는 경우 명령 시퀀스는 다음과 같습니다(**굵게** 표시된 줄은 활성 전송 모드에서 단계가 다름을 의미함).</span><span class="sxs-lookup"><span data-stu-id="f7b41-267">If the FTP Client makes a write request in the passive transfer mode, the command sequence is as follows (**bolded** lines indicates a different step from active transfer mode):</span></span>

1. <span data-ttu-id="f7b41-268">클라이언트가 서버 포트 21에 TCP 연결을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-268">Client issues TCP connect to Server port 21.</span></span>
1. <span data-ttu-id="f7b41-269">서버에서 신호 성공에 대한 "220" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-269">Server sends “220” response to signal success.</span></span>
1. <span data-ttu-id="f7b41-270">클라이언트에서 "username"을 포함한 "USER" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-270">Client sends “USER” message with “username.”</span></span>
1. <span data-ttu-id="f7b41-271">서버에서 신호 성공에 대한 "331" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-271">Server sends “331” response to signal success.</span></span>
1. <span data-ttu-id="f7b41-272">클라이언트에서 "password"를 포함한 "PASS" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-272">Client sends “PASS” message with “password.”</span></span>
1. <span data-ttu-id="f7b41-273">서버에서 신호 성공에 대한 "230" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-273">Server sends “230” response to signal success.</span></span>
1. <span data-ttu-id="f7b41-274">클라이언트에서 이진 전송에 대한 "TYPE I" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-274">Client sends “TYPE I” message for binary transfer.</span></span>
1. <span data-ttu-id="f7b41-275">서버에서 신호 성공에 대한 "200" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-275">Server sends “200” response to signal success.</span></span>
1. <span data-ttu-id="f7b41-276">***IPv4 애플리케이션:* 클라이언트에서 "PASV" 메시지를 보냅니다.**</span><span class="sxs-lookup"><span data-stu-id="f7b41-276">***IPv4 applications:* Client sends “PASV” message.**</span></span><br /><span data-ttu-id="f7b41-277">**_IPv6 애플리케이션:_ 클라이언트에서 "EPSV" 메시지를 보냅니다.**</span><span class="sxs-lookup"><span data-stu-id="f7b41-277">**_IPv6 applications:_ Client sends “EPSV” message.**</span></span>
1. <span data-ttu-id="f7b41-278">***IPv4 애플리케이션:* 서버에서 성공을 나타내는 "227" 응답과 클라이언트가 연결해야 하는 IP 주소 및 포트를 보냅니다.**</span><span class="sxs-lookup"><span data-stu-id="f7b41-278">***IPv4 applications:* Server sends “227” response, and IP address and port for the Client to connect to, to signal success.**</span></span><br /><span data-ttu-id="f7b41-279">**_IPv6 애플리케이션:_ 서버에서 성공을 나타내는 "229" 응답과 클라이언트가 연결해야 하는 IP 주소 및 포트를 보냅니다.**</span><span class="sxs-lookup"><span data-stu-id="f7b41-279">**_IPv6 applications:_ Server sends “229” response, and IP address and port for the Client to connect to, to signal success.**</span></span>
1. <span data-ttu-id="f7b41-280">클라이언트에서 쓸 파일 이름을 포함한 "STOR" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-280">Client sends “STOR” message with file name to write.</span></span>
1. <span data-ttu-id="f7b41-281">**서버에서 데이터 서버 소켓을 만들고 10단계의 응답에 지정된 포트를 사용하여 이 소켓에서 클라이언트 연결 요청을 수신합니다.**</span><span class="sxs-lookup"><span data-stu-id="f7b41-281">**Server creates data server socket and listens for the Client connect request on this socket using the port specified in the response in step 10.**</span></span>
1. <span data-ttu-id="f7b41-282">**서버에서 제어 소켓에 대해 파일 쓰기가 시작되었음을 나타내는 "150" 응답을 보냅니다.**</span><span class="sxs-lookup"><span data-stu-id="f7b41-282">**Server sends “150” response on the control socket to signal file write has started.**</span></span>
1. <span data-ttu-id="f7b41-283">클라이언트에서 데이터 연결을 통해 파일의 내용을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-283">Client sends contents of file through the data connection.</span></span> <span data-ttu-id="f7b41-284">이 프로세스는 파일이 완전히 전송될 때까지 계속됩니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-284">This process continues until file is completely transferred.</span></span>
1. <span data-ttu-id="f7b41-285">완료되면 클라이언트에서 데이터 연결을 해제합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-285">When finished, Client disconnects data connection.</span></span>
1. <span data-ttu-id="f7b41-286">**서버에서 제어 소켓에 대해 파일 쓰기에 성공했음을 나타내는 "226" 응답을 보냅니다.**</span><span class="sxs-lookup"><span data-stu-id="f7b41-286">**Server sends “226” response on the control socket to signal file write is successful.**</span></span>
1. <span data-ttu-id="f7b41-287">클라이언트에서 FTP 연결을 종료하기 위해 "QUIT"을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-287">Client sends “QUIT” to terminate FTP connection.</span></span>
1. <span data-ttu-id="f7b41-288">서버에서 신호 연결 해제에 성공했음을 나타내는 "221" 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-288">Server sends “221” response to signal disconnect is successful.</span></span>
1. <span data-ttu-id="f7b41-289">서버에서 FTP 연결을 해제합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-289">Server disconnects FTP connection.</span></span>

## <a name="ftp-authentication"></a><span data-ttu-id="f7b41-290">FTP Authentication</span><span class="sxs-lookup"><span data-stu-id="f7b41-290">FTP Authentication</span></span>

<span data-ttu-id="f7b41-291">FTP 연결이 이루어질 때마다 클라이언트는 서버는 *사용자 이름* 과 *암호* 를 제공해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-291">Whenever an FTP connection takes place, the Client must provide the Server with a *username* and *password*.</span></span> <span data-ttu-id="f7b41-292">일부 FTP 사이트에서는 특정 사용자 이름 및 암호 없이 FTP 액세스를 허용하는 *익명 FTP* 를 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-292">Some FTP sites allow what is called *Anonymous FTP*, which allows FTP access without a specific username and password.</span></span> <span data-ttu-id="f7b41-293">이러한 유형의 연결에서는 사용자 이름에 "anonymous"를 입력해야 하며 암호는 전체 이메일 주소여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-293">For this type of connection, “anonymous” should be supplied for username and the password should be a complete e-mail address.</span></span>

<span data-ttu-id="f7b41-294">사용자는 로그인 및 로그아웃 인증 루틴이 포함된 NetX FTP를 제공해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-294">The user is responsible for supplying NetX FTP with login and logout authentication routines.</span></span> <span data-ttu-id="f7b41-295">이러한 작업은 ***nxd_ftp_server_create** _ 및 _*_nx_ftp_server_create_\*_ 서비스 중에 제공되며, 암호 처리 중에 호출됩니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-295">These are supplied during the ***nxd_ftp_server_create** _ and _*_nx_ftp_server_create_\*_ services and called from the password processing.</span></span> <span data-ttu-id="f7b41-296">둘의 차이점은 로그인 및 로그아웃 인증 함수에 대한 _*_nxd_ftp_server_create_*_ 입력 함수 포인터가 NetX Duo 주소 유형으로 _*_NXD_ADDRESS_*_ 를 필요로 한다는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-296">The difference between the two is the _*_nxd_ftp_server_create_*_ input function pointers to login and logout authenticate functions expect the NetX Duo address type _*_NXD_ADDRESS_*_.</span></span> <span data-ttu-id="f7b41-297">이 데이터 형식은 IPv4 또는 IPv6 주소 형식을 모두 포함하므로 이 함수가 IPv4 및 IPv6 네트워크를 모두 지원하는 "duo" 서비스가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-297">This data type holds both IPv4 or IPv6 address formats, making this function the “duo” service supporting both IPv4 and IPv6 networks.</span></span> <span data-ttu-id="f7b41-298">로그인 및 로그아웃 인증 함수에 대한 _ *_nx_ftp_server_create_*\* 입력 함수 포인터는 ULONG IP 주소 형식을 필요로 합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-298">The _ *_nx_ftp_server_create_*\* input function pointers to login and logout authenticate functions expect ULONG IP address type.</span></span> <span data-ttu-id="f7b41-299">이 함수는 IPv4 네트워크로 제한됩니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-299">This function is limited to IPv4 networks.</span></span> <span data-ttu-id="f7b41-300">개발자는 가능한 경우 항상 "duo" 서비스를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-300">The developer is encouraged to use the “duo” service whenever possible.</span></span>

<span data-ttu-id="f7b41-301">*login* 함수가 NX_SUCCESS를 반환하는 경우 연결이 인증되고 FTP 작업이 허용됩니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-301">If the *login* function returns NX_SUCCESS, the connection is authenticated and FTP operations are allowed.</span></span> <span data-ttu-id="f7b41-302">반대로 *login* 함수가 NX_SUCCESS 이외의 것을 반환하는 경우 연결 시도가 거부됩니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-302">Otherwise, if the *login* function returns something other than NX_SUCCESS, the connection attempt is rejected.</span></span>

## <a name="ftp-multi-thread-support"></a><span data-ttu-id="f7b41-303">FTP 다중 스레드 지원</span><span class="sxs-lookup"><span data-stu-id="f7b41-303">FTP Multi-Thread Support</span></span>

<span data-ttu-id="f7b41-304">NetX FTP 클라이언트 서비스는 다중 스레드에서 동시에 호출할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-304">The NetX FTP Client services can be called from multiple threads simultaneously.</span></span> <span data-ttu-id="f7b41-305">하지만 특정 FTP 클라이언트 인스턴에 대한 읽기 또는 쓰기 요청을 동일 스레드에서 순차적으로 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-305">However, read or write requests for a particular FTP Client instance should be done in sequence from the same thread.</span></span>

## <a name="ftp-rfcs"></a><span data-ttu-id="f7b41-306">FTP RFC</span><span class="sxs-lookup"><span data-stu-id="f7b41-306">FTP RFCs</span></span>

<span data-ttu-id="f7b41-307">NetX Duo FTP는 RFC 959, RFC 2428 및 관련 RFC를 준수합니다.</span><span class="sxs-lookup"><span data-stu-id="f7b41-307">NetX Duo FTP is compliant with RFC 959, RFC 2428 and related RFCs.</span></span>
